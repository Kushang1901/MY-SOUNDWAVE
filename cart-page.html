<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart - SoundWave</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif;}
        body {background-color: #f5f5f5;}
        header {background-color: #2c3e50; padding: 1rem; position: sticky; top: 0; z-index: 100;}
        .header-container {display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto;}
        .logo {color: white; font-size: 1.5rem; font-weight: bold;}
        .logo span {color: #3498db;}
        nav ul {display: flex; list-style: none;}
        nav ul li {margin-left: 1.5rem;}
        nav ul li a {color: white; text-decoration: none; transition: color 0.3s;}
        nav ul li a:hover {color: #3498db;}
        .search-cart {display: flex; align-items: center;}
        .search-box {margin-right: 1rem; position: relative;}
        .search-box input {padding: 0.5rem; border-radius: 4px; border: none; width: 200px;}
        .cart-icon {position: relative; color: white; font-size: 1.2rem; cursor: pointer;}
        .cart-count {position: absolute; top: -8px; right: -8px; background-color: #e74c3c; color: white; border-radius: 50%; width: 18px; height: 18px; display: flex; justify-content: center; align-items: center; font-size: 0.7rem;}
        .page-title {text-align: center; padding: 2rem 0; background-color: #ecf0f1; color: #2c3e50;}
        .cart-container {max-width: 1200px; margin: 2rem auto; padding: 0 1rem;}
        .cart-empty {text-align: center; padding: 3rem; background-color: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);}
        .cart-empty h2 {margin-bottom: 1rem; color: #2c3e50;}
        .cart-items {background-color: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden;}
        .cart-header {display: grid; grid-template-columns: 100px 2fr 1fr 1fr 1fr auto; padding: 1rem; background-color: #ecf0f1; font-weight: bold; color: #2c3e50;}
        .cart-item {display: grid; grid-template-columns: 100px 2fr 1fr 1fr 1fr auto; padding: 1rem; border-bottom: 1px solid #ecf0f1; align-items: center;}
        .cart-item:last-child {border-bottom: none;}
        .cart-item img {width: 80px; height: 80px; object-fit: cover; border-radius: 4px;}
        .product-name {font-weight: bold; color: #2c3e50;}
        .quantity-controls {display: flex; align-items: center; gap: 0.5rem;}
        .quantity-btn {width: 30px; height: 30px; background-color: #ecf0f1; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; transition: background-color 0.3s;}
        .quantity-btn:hover {background-color: #3498db; color: white;}
        .quantity {width: 50px; text-align: center; padding: 0.3rem; border: 1px solid #ecf0f1; border-radius: 4px;}
        .remove-btn {background: none; border: none; color: #e74c3c; cursor: pointer; font-weight: bold; transition: color 0.3s;}
        .remove-btn:hover {color: #c0392b;}
        .cart-summary {margin-top: 2rem; background-color: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 1.5rem;}
        .summary-row {display: flex; justify-content: space-between; margin-bottom: 1rem;}
        .summary-row.total {border-top: 1px solid #ecf0f1; padding-top: 1rem; font-weight: bold; font-size: 1.2rem;}
        .btn-container {display: flex; justify-content: space-between; margin-top: 2rem; gap: 1rem;}
        .btn {display: inline-block; padding: 0.8rem 1.5rem; background-color: #3498db; color: white; text-decoration: none; border-radius: 4px; font-weight: bold; transition: background-color 0.3s; border: none; cursor: pointer; text-align: center;}
        .btn:hover {background-color: #2980b9;}
        .btn-secondary {background-color: #7f8c8d;}
        .btn-secondary:hover {background-color: #6c7a7d;}
        .btn-checkout {background-color: #2ecc71;}
        .btn-checkout:hover {background-color: #27ae60;}
        .coupon-container {display: flex; gap: 1rem; margin-bottom: 1rem;}
        .coupon-input {flex: 1; padding: 0.5rem; border: 1px solid #ecf0f1; border-radius: 4px;}
        @media (max-width: 768px) {
            .cart-header {display: none;}
            .cart-item {grid-template-columns: 80px 1fr; gap: 1rem;}
            .cart-item > div {grid-column: 2; margin-bottom: 0.5rem;}
            .btn-container {flex-direction: column;}
        }
        footer {background-color: #2c3e50; color: white; padding: 1rem; text-align: center; margin-top: 2rem;}
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">Sound<span>Wave</span></div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="products-page.html">Products</a></li>
                    <li><a href="categories-page.html">Categories</a></li>
                    <li><a href="deals-page.html">Deals</a></li>
                    <li><a href="about-us-page.html">About Us</a></li>
                    <li><a href="contact-page.html">Contact</a></li>
                </ul>
            </nav>
            <div class="search-cart">
                <div class="search-box">
                    <input type="text" placeholder="Search products...">
                </div>
                <div class="cart-icon">
                    ðŸ›’
                    <div class="cart-count" id="cartCountTop">0</div>
                </div>
            </div>
        </div>
    </header>
    
    <div class="page-title">
        <h1>Your Cart</h1>
    </div>
    
    <div class="cart-container" id="cartContainer">
        <!-- Cart content will be loaded here via JavaScript -->
    </div>
    
    <footer>
        <p>&copy; 2025 SoundWave. All rights reserved.</p>
    </footer>
    
    <script>
        // Cart data structure
        let cart = JSON.parse(localStorage.getItem('soundwaveCart')) || [];
        
        // Product database (same as in products page)
        const products = [
            {id: 1, name: "SoundWave Pro Earbuds", price: 129.99, oldPrice: 159.99, rating: 5, reviews: 128, category: "earbuds", image: "image3.jpg", description: "Our flagship wireless earbuds with active noise cancellation and 10-hour battery life."},
            {id: 2, name: "SoundWave Elite Headphones", price: 199.99, rating: 4, reviews: 87, category: "headphones", image: "image4.jpg", description: "Premium over-ear headphones with studio-quality sound and supreme comfort."},
            {id: 3, name: "SoundWave Mini Speaker", price: 79.99, rating: 4, reviews: 56, category: "speakers", image: "image5.jpeg", description: "Portable Bluetooth speaker with surprising sound quality and 12-hour battery life."},
            {id: 4, name: "SoundWave Sport Earbuds", price: 89.99, rating: 5, reviews: 42, category: "earbuds", image: "image6.jpg", description: "Water-resistant earbuds perfect for workouts and outdoor activities."},
            {id: 5, name: "SoundWave Ultra Headphones", price: 249.99, rating: 5, reviews: 63, category: "headphones", image: "image7.jpg", description: "Our top-tier wireless headphones with ultra-comfort design and 30-hour battery life."},
            {id: 6, name: "SoundWave Party Speaker", price: 149.99, rating: 4, reviews: 38, category: "speakers", image: "image8.jpg", description: "Powerful speaker with LED lights and deep bass for your parties."},
        ];
        
        // For demo purposes, add sample items if cart is empty
        if (cart.length === 0) {
            cart = [
                {id: 1, quantity: 1},
                {id: 5, quantity: 1}
            ];
        }
        
        // Find product details by id
        function getProductById(id) {
            return products.find(product => product.id === id);
        }
        
        // Update cart count display
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCountTop').textContent = count;
        }
        
        // Calculate cart totals
        function calculateTotals() {
            let subtotal = 0;
            cart.forEach(item => {
                const product = getProductById(item.id);
                subtotal += product.price * item.quantity;
            });
            
            const shipping = subtotal > 0 ? 9.99 : 0;
            const tax = subtotal * 0.08; // 8% tax rate
            const total = subtotal + shipping + tax;
            
            return {
                subtotal: subtotal.toFixed(2),
                shipping: shipping.toFixed(2),
                tax: tax.toFixed(2),
                total: total.toFixed(2)
            };
        }
        
        // Render cart
        function renderCart() {
            const container = document.getElementById('cartContainer');
            
            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="cart-empty">
                        <h2>Your cart is empty</h2>
                        <p>Looks like you haven't added any products to your cart yet.</p>
                        <a href="products-page.html" class="btn">Continue Shopping</a>
                    </div>
                `;
                return;
            }
            
            const totals = calculateTotals();
            
            let cartItemsHTML = `
                <div class="cart-items">
                    <div class="cart-header">
                        <div></div>
                        <div>Product</div>
                        <div>Price</div>
                        <div>Quantity</div>
                        <div>Total</div>
                        <div></div>
                    </div>
            `;
            
            cart.forEach(item => {
                const product = getProductById(item.id);
                const itemTotal = (product.price * item.quantity).toFixed(2);
                
                cartItemsHTML += `
                    <div class="cart-item" data-id="${product.id}">
                        <div>
                            <img src="${product.image}" alt="${product.name}">
                        </div>
                        <div>
                            <div class="product-name">${product.name}</div>
                            <div class="product-category">Category: ${product.category}</div>
                        </div>
                        <div>$${product.price}</div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="changeQuantity(${product.id}, -1)">-</button>
                            <input type="number" class="quantity" value="${item.quantity}" min="1" max="10" onchange="updateQuantity(${product.id}, this.value)">
                            <button class="quantity-btn" onclick="changeQuantity(${product.id}, 1)">+</button>
                        </div>
                        <div>$${itemTotal}</div>
                        <div>
                            <button class="remove-btn" onclick="removeItem(${product.id})">Remove</button>
                        </div>
                    </div>
                `;
            });
            
            cartItemsHTML += `</div>`;
            
            const cartHTML = `
                ${cartItemsHTML}
                
                <div class="cart-summary">
                    <h3>Order Summary</h3>
                    <div class="coupon-container">
                        <input type="text" class="coupon-input" placeholder="Enter coupon code">
                        <button class="btn">Apply</button>
                    </div>
                    <div class="summary-row">
                        <div>Subtotal</div>
                        <div>$${totals.subtotal}</div>
                    </div>
                    <div class="summary-row">
                        <div>Shipping</div>
                        <div>$${totals.shipping}</div>
                    </div>
                    <div class="summary-row">
                        <div>Tax (8%)</div>
                        <div>$${totals.tax}</div>
                    </div>
                    <div class="summary-row total">
                        <div>Total</div>
                        <div>$${totals.total}</div>
                    </div>
                </div>
                
                <div class="btn-container">
                    <a href="products-page.html" class="btn btn-secondary">Continue Shopping</a>
                    <button class="btn" onclick="clearCart()">Clear Cart</button>
                    <a href="checkout-page.html" class="btn btn-checkout">Proceed to Checkout</a>
                </div>
            `;
            
            container.innerHTML = cartHTML;
        }
        
        // Change item quantity
        function changeQuantity(id, delta) {
            const itemIndex = cart.findIndex(item => item.id === id);
            if (itemIndex !== -1) {
                const newQuantity = cart[itemIndex].quantity + delta;
                if (newQuantity > 0 && newQuantity <= 10) {
                    cart[itemIndex].quantity = newQuantity;
                    saveCart();
                    renderCart();
                }
            }
        }
        
        // Update quantity directly
        function updateQuantity(id, quantity) {
            quantity = parseInt(quantity);
            if (isNaN(quantity) || quantity < 1) quantity = 1;
            if (quantity > 10) quantity = 10;
            
            const itemIndex = cart.findIndex(item => item.id === id);
            if (itemIndex !== -1) {
                cart[itemIndex].quantity = quantity;
                saveCart();
                renderCart();
            }
        }
        
        // Remove item from cart
        function removeItem(id) {
            cart = cart.filter(item => item.id !== id);
            saveCart();
            updateCartCount();
            renderCart();
        }
        
        // Clear entire cart
        function clearCart() {
            if (confirm('Are you sure you want to clear your cart?')) {
                cart = [];
                saveCart();
                updateCartCount();
                renderCart();
            }
        }
        
        // Save cart to localStorage
        function saveCart() {
            localStorage.setItem('soundwaveCart', JSON.stringify(cart));
            updateCartCount();
        }
        
        // Initialize
        updateCartCount();
        renderCart();
    </script>
</body>
</html>
